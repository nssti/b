---
title: ERD
sidebar_position: 1
---

# Описание структуры базы данных системы Ru.Poizon

## 1. Таблица: `User`
Содержит данные о пользователях системы.

| Поле          | Тип           | Описание                           |
|---------------|---------------|------------------------------------|
| `id`          | `integer`     | Первичный ключ, уникальный идентификатор пользователя. |
| `last_name`   | `varchar(50)` | Фамилия пользователя.             |
| `first_name`  | `varchar(50)` | Имя пользователя.                 |
| `patronymic`  | `varchar(50)` | Отчество пользователя (опционально). |
| `phone`       | `varchar(12)` | Уникальный номер телефона.        |
| `email`       | `varchar(254)`| Уникальный email пользователя.    |

---

## 2. Таблица: `Notification`
Содержит информацию о уведомлениях для пользователей.

| Поле          | Тип           | Описание                           |
|---------------|---------------|------------------------------------|
| `id`          | `integer`     | Первичный ключ, уникальный идентификатор уведомления. |
| `content`     | `text`        | Содержимое уведомления.           |
| `status`      | `varchar(20)` | Статус уведомления (опционально). |
| `send_date`   | `date`        | Дата отправки уведомления (опционально). |
| `user_id`     | `integer`     | Внешний ключ на `User.id`.        |

---

## 3. Таблица: `Delivery`
Содержит данные о доставках.

| Поле              | Тип           | Описание                           |
|-------------------|---------------|------------------------------------|
| `id`              | `integer`     | Первичный ключ, уникальный идентификатор доставки. |
| `method`          | `varchar(30)` | Метод доставки.                   |
| `send_date`       | `date`        | Дата отправки (опционально).      |
| `receive_date`    | `date`        | Дата получения (опционально).     |
| `delivery_status` | `varchar(30)` | Статус доставки.                  |
| `tracking_number` | `varchar(50)` | Номер отслеживания (опционально). |
| `delivery_cost`   | `decimal(10,2)` | Стоимость доставки (опционально). |
| `delivery_address`| `varchar(255)` | Адрес доставки.                   |
| `product_id`      | `integer`     | Внешний ключ на `Product.id`.     |

---

## 4. Таблица: `Review`
Содержит данные об отзывах пользователей.

| Поле          | Тип           | Описание                           |
|---------------|---------------|------------------------------------|
| `id`          | `integer`     | Первичный ключ, уникальный идентификатор отзыва. |
| `content`     | `text`        | Содержимое отзыва (опционально).  |
| `rating`      | `integer`     | Оценка (рейтинг).                 |
| `date`        | `date`        | Дата публикации отзыва.           |
| `user_id`     | `integer`     | Внешний ключ на `User.id`.        |

---

## 5. Таблица: `Product`
Содержит данные о товарах.

| Поле          | Тип           | Описание                           |
|---------------|---------------|------------------------------------|
| `id`          | `integer`     | Первичный ключ, уникальный идентификатор товара. |
| `name`        | `varchar(100)`| Название товара.                  |
| `price`       | `decimal(10,2)` | Цена товара.                     |
| `description` | `text`        | Описание товара (опционально).    |
| `quantity`    | `integer`     | Количество на складе.             |
| `item_number` | `varchar(50)` | Уникальный номер товара.          |
| `brand`       | `varchar(50)` | Бренд товара.                     |
| `rating`      | `decimal(2,1)` | Рейтинг товара (опционально).     |

---

## 6. Таблица: `Product_Review`
Связывает товары с отзывами.

| Поле          | Тип           | Описание                           |
|---------------|---------------|------------------------------------|
| `id`          | `integer`     | Первичный ключ.                   |
| `product_id`  | `integer`     | Внешний ключ на `Product.id`.     |
| `review_id`   | `integer`     | Внешний ключ на `Review.id`.      |

---

## 7. Таблица: `Order`
Содержит информацию о заказах.

| Поле          | Тип           | Описание                           |
|---------------|---------------|------------------------------------|
| `id`          | `integer`     | Первичный ключ, уникальный идентификатор заказа. |
| `user_id`     | `integer`     | Внешний ключ на `User.id`.        |
| `delivery_id` | `integer`     | Внешний ключ на `Delivery.id`.    |
| `payment_id`  | `integer`     | Внешний ключ на `Payment.id`.     |
| `order_status`| `varchar(30)` | Статус заказа.                    |
| `order_total` | `decimal(10,2)` | Общая сумма заказа (опционально).|

---

## 8. Таблица: `Payment`
Содержит информацию об оплатах.

| Поле             | Тип           | Описание                           |
|------------------|---------------|------------------------------------|
| `id`             | `integer`     | Первичный ключ, уникальный идентификатор оплаты. |
| `payment_method` | `varchar(30)` | Метод оплаты.                     |
| `payment_status` | `varchar(30)` | Статус оплаты.                    |
| `payment_total`  | `decimal(10,2)` | Сумма оплаты (опционально).      |

---

## 9. Таблица: `Cart`
Связывает товары с заказами.

| Поле          | Тип           | Описание                           |
|---------------|---------------|------------------------------------|
| `id`          | `integer`     | Первичный ключ.                   |
| `order_id`    | `integer`     | Внешний ключ на `Order.id`.       |
| `product_id`  | `integer`     | Внешний ключ на `Product.id`.     |
